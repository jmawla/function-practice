<!DOCTYPE html>
<html>
  <head>
    <title>Function Practice</title>
    <link rel="stylesheet" href="./app.css" />
  </head>
  <body>

    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <script src="./app.js"></script>

    <script>
      $(document).ready(function() {

        function wordCount(fragment) {
//          if (fragment === null)
          if (!fragment)  // more like js
            return 0;
          return fragment.trim().split(/\s+/).length;
        }
        createExample('Word Count', {
          description: 'Create a function that returns the number of words in \
            a fragment of text',
          implementation: wordCount,
          validation: [
            {
              input: 'one two three',
              output: 3
            },
            {
              input: '  ignore  spaces  ',
              output: 2
            },
            {
              input: null,
              output: 0
            }
          ]
        });
        /**
        * Reverses the text in the input string "text"
        */
        function reverseText(text) {
          // retun null if empty
          if(text === null){
            return null;
          }
          // make an empty string
          var reversed = '';

          // loop backwards over the text
          for(var index = text.length - 1 ; index >= 0 ; index--){
            // append character to new text
            reversed += text[index];
          }
          return reversed;
        }

        createExample('Reverse Text', {
          description: 'Create a function that reverses the characters in \
            a string',
          implementation: reverseText,
          validation: [
            {
              input: 'test value',
              output: 'eulav tset'
            },
            {
              input: null,
              output: null
            },
            {
              input: '',
              output: ''
            }
          ]
        });

        /**
        * Tender Change to returns the change in bills and coins
        * input : number
        * debug : console.log(value);
        * output: object
        */
        function tenderChange(amount){
          var fives = 0;
          var ones = 0;
          var dimes = 0;
          var pennies;
          //convert amount to pennies
          pennies = amount*100;
          // loop and subtract 500 and if > five $, then add 1 to fives
          while(pennies > 500){
            fives++;
            pennies -= 500;
          }
          // loop and subtract 100 and if > one $, then add 1 to ones
          while(pennies > 100){
            ones++;
            pennies -= 100;
          }
          // loop and subtract 10 and if > 10, then add 1 to dimes
          while(pennies > 10){
            dimes++;
            pennies -= 10;
          }
          return {
            fives: fives,
            ones: ones,
            dimes: dimes,
            pennies: pennies
          };
        }
        createExample('Tender Change', {
          description: 'Write a function that given a dollar amount returns \
            the change in bills and coins. For instance, given \
            <code>7.23</code> it should return: \
            <pre>{ fives: 1, ones: 2, dimes: 2, pennies: 3 }</pre>',
          implementation: tenderChange,
          validation: [
            {
              input: 107.03,
              output: { fives: 21, ones: 2, dimes: 0, pennies: 3 }
            }
          ]
        });

        /* Pluralizer change input noun to plural if input number is > 1
        * input: noun, number
        * output: string
        */
        function pluralizer(string, number){
          if( number > 1) {
            string += 's';
          }
          return (number + ' ' + string);
        }
        createExample('The Pluralizer', {
          description: 'Write a function that takes two arguments, a noun \
            and a number, and returns the number and the noun in pluralized \
            form (for instance, "1 dog", "5 cats")',
          implementation: pluralizer,
          validation: [
            {
              input: ['dog', 1],
              output: '1 dog'
            },
            {
              input: ['cat', 5],
              output: '5 cats'
            },
            {
              input: ['cow', 10],
              output: '10 cows'
            }
          ]
        });

//string.split '1,2,3'.split(',') -> ['1', '2', '3']
//parseInt('1994') -> number 1994
//parseFloat('1.23') -> 1.23
//string.sort(callback(a, b))
        var movieList = [
          'The Shawshank Redemption,1994,1043071',
          'The Godfather,1972,732416',
          'The Godfather: Part II,1974,474640',
          'Pulp Fiction,1994,806431',
          'The Dark Knight,2008,1017508',
          '12 Angry Men,1957,255846',
          'Schindler\'s List,1993,528900',
          'The Lord of the Rings: The Return of the King,2003,738931',
          'Fight Club,1999,791186',
          'Star Wars: Episode V - The Empire Strikes Back,1980,503348'
        ];

        createExample('Movie Parsing', {
          description: "Given the following comma separated list of IMDb top \
            rated movies: <pre>var movieList = " +
            JSON.stringify(movieList, null, '  ') +
            "</pre> create a function that splits the values into the title, \
            year, and number of votes and returns a list of movie objects \
            sorted by year.",
          implementation: null
        });
      });
    </script>

  </body>
</html>
